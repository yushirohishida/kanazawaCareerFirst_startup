<html>
<html lang="ja"> 
  <head>
    <meta charset="utf-8">
  <!--  <meta name="viewport"
          content="width=device-width, initial-scale=1.0"> -->
    <title>金大就活サークルCareerFirst 起業部</title>
    <link rel="stylesheet" href="stylesheet.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/jquery.validationEngine.js"></script>
    <script type="text/javascript" src="js/jquery.validationEngine-ja.js"></script>
    
    
    <script type="text/javascript">
     $(document).ready(function(){

/*
 * jQuery-Validation-Engineの設定
 */
     jQuery("#form").validationEngine( 'attach', {
        ajaxFormValidation: true
      , onBeforeAjaxFormValidation: beforeCall //送信ボタンを押した時に実行される関数
  });

/*
 * 確認ボタンが押されたら
 */
     function beforeCall(){

     alert("beforecall");

     $(".fm").each( function() {
       var id = $(this).attr("id");
       var fm = $("#"+id);
      
       switch( fm.prop("type") ){
        case 'text':
        case 'password':
        case 'select-one':
          $(fm).after('<span class="hide del">'+fm.val()+'</span>');
        break;
        
        case 'date':
          $(fm).after('<span class="hide del">'+fm.val()+'</span>');
        break;
        
        case 'radio':
          var val = $("#"+id+":checked");
          if( $(val).prop('checked') ) {
            $(fm).after('<span class="hide del">'+val.val()+'</span>');
          }
        break;
        
        case 'checkbox':
          var val = $("#"+id+":checked");
          if( $(val).prop('checked') ) {
            $(fm).after('<span class="hide del">'+val.val()+'</span>');
          }
        break;
        case 'textarea':
          var val = fm.val();
          val = val.replace(/\n/g, "<br />"); 
          $(fm).after('<span class="hide del">'+val+'</span>');
        break;
      }
      
    });

    change(true);
  }

/*
 * リセットボタンが押されたら
 */
  $(document).on('click','#reset',function(){
    reset();
  });
/*
 * 訂正ボタンが押されたら
 */
  $(document).on('click','#back',function(){
    change();
  });
/*
 * 送信ボタンが押されたら
 */
  $(document).on('click','#send',function(){
    var data = $("#form").serialize(); console.log(data);
    
      $.ajax({
          type: "POST",
          url: "form.php",
          data: data,
          success: function(callback){
            
          }
      });
    
    $("#form").html('送信しました');
    reset();
  });
  
/*
 * フォームを初期化する
 */
  var reset = function(type){
      $('input,textarea').not('input[type=\"radio\"],input[type=\"checkbox\"],:hidden, :button, :submit,:reset').val('');
      $('input[type=\"radio\"], input[type=\"checkbox\"],select').removeAttr('checked').removeAttr('selected');
      $("option").attr('selected',false);
  };
  
  $("#back").hide();
  $("#send").hide();
/*
 * 表示・非表示を制御する
 */
  var change = function(type){
    if(type === true){
      $(".def").hide();
      $(".hide").show();
    }else{
      alert("def hide");
      $(".def").show();
      $(".hide").hide();
      $(".del").remove();
    }
  };
});
</script>
    
  </head>
  
 <body>
  <header>
    <div class="container">
      <h1>金沢大学就活サークルCareerFirst起業部</br>新規事業案作成シート</h1>
    </div>
  </header>
  
  <div class="contents-wrapper">
    <div class="container">
   <!--   <form method="POST" action="https://yushirohishida.github.io/kanazawaCareerFirst_startup2/">     -->
      <table>
        <tr>
          <td>
            事業名
          </td>
          <td>
            <input type="text" name="business_name" id="business_name" class="text-input fm def">
          </td>
        </tr>
        <tr>
          <td>
            事業概要
          </td>
          <td>
            <textarea  name="bp business_overview" size="100"></textarea>
          </td>
        <li>
          <p>顧客は誰か？</p>
          <textarea  name="bp customers" size="300"></textarea>
        </li>
        <li>
          <p>顧客のニーズはなにか？</p>
          <textarea  name="bp needsofcustomers" size="300"></textarea>
        </li>
        <li>
          <p>顧客に提供する価値はなにか？</p>
          <textarea  name="bp valuepropositio" size="300"></textarea>
        </li>
        <li>
          <p>競合は誰か？</p>
          <textarea  name="bp competitors" size="100"></textarea>
        </li>
        <li>
          <p>差別化のポイントはなにか？</p>
          <textarea  name="bp differentiation" size="100"></textarea>
        </li>
        <li>
          <p>商品・サービスの内容はなにか？</p>
          <textarea  name="bp contents" size="100"></textarea>
        </li>
        <li>
          <p>業務フローはどうあるべきか？</p>
          <textarea  name="bp businessflow" size="100"></textarea>
        </li>
        <li>
          <p>事業の成果を図る指標はなにか？</p>
          <textarea  name="bp indicator" size="100"></textarea>
        </li>
        <li>
          <p>事業のリスクはなにか？</p>
          <textarea name="bp risk" size="100"></textarea>
        </li>
        <li>
          <p>今後の収益成長の見込みはどうか？</p>
          <textarea name="bp revenuegrowth" size="100"></textarea>
        </li>
        <li>
          <p>利益額見通しは？その根拠となる売上・コストの見通しは？その理由は？</p>
          <textarea name="bp profit" size="100"></textarea>
        </li>
        <li>
          <p>どのような価格帯で、どのように告知して、どのような場所で販売するのか？</p>
          <textarea name="bp 4p" size="100"></textarea>
        </li>
        <li>
          <p>いつまでに何を、誰が、どのように進めるのか？</p>
          <textarea name="bp actionplan" size="100"></textarea>
        </li>
        <li>
          <p>メモ・備考</p>
          <textarea name="bp memo" size="100"></textarea>
        </li>
        <li>
          <input type="submit" id="submit" value="企画書作成" class="def">
          <input type="button" id="back" value="戻る"　class="hide">
        </li>                                                    
      </table>
    </div>
  </div>
  
<!--  <p>デバック</p>   -->

 </body>
  
</html>


